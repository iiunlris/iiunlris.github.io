---
layout: post
title: python和bash笔记
date: 2018-01-16
categories: blog
---

## bash
### 清空文件
: > $1 echo "$1 cleaned up."
### 统计当前文件夹下文件的个数
ls -l |grep "^-"|wc -l
### 表达式
label=$(expr $label + 1)
basename
img_basename=`basename $img_file .jpg`
### 文件夹下的所有文件
cd resized_valid_images
ls -1 |awk '{print i$0}' i=`pwd`'/' >> ../resized_valid_images.list
### resize
for img_file in `cat 1_人.list`
do
    img_basename=`basename $img_file .jpg`
    convert -resize 224x224\! $img_file resized_valid_images/${img_basename}_224x224.jpg &
done

## python
### 去除多余空格
strip
### 打开,resize
from PIL import Image, ImageDraw, ImageFont
Image.open(path).resize((224,224))
### 连接路径
os.path.join(common_path, 'cls.list')
### 返回path最后的文件名
os.path.basename(path)
### 字符串replace
os.path.basename(line).replace('_224x224', '')
### 字体
ImageFont.truetype("/usr/share/fonts/truetype/wqy/wqy-microhei.ttc", 32)
### 画图
img = get_image(path)
img_dbg.paste(img)
draw = ImageDraw.Draw(img_dbg)
draw.text((224 + 80, 10), label_map_dict[label], font=font_cls, fill=(0, 0, 255))
img_dbg.save(path)
### 画矩形,控制线条宽度
def drawRectangle(draw, x, y, width, height, line_width):
    draw.line([(x,y),(x+width,y),(x+width,y+height),(x,y+width),(x,y)], width=line_width, fill = "red")
